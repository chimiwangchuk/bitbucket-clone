"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var bufferCount_1 = require("rxjs/operators/bufferCount");
var concatMap_1 = require("rxjs/operators/concatMap");
var processinator = function (probedBlobs$, options) {
    var process = function (probedBlobs) {
        if (options.processor) {
            return options.processor(probedBlobs).then(function () { return probedBlobs; });
        }
        else {
            return Promise.resolve(probedBlobs);
        }
    };
    return probedBlobs$.pipe(bufferCount_1.bufferCount(options.batchSize)).pipe(concatMap_1.concatMap(process));
};
exports.processinator = processinator;
//# sourceMappingURL=processinator.js.map