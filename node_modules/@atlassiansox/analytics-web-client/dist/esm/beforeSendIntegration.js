import createIntegration from '@segment/analytics.js-integration';
var BeforeSendIntegration = createIntegration('BeforeSend');
Object.assign(BeforeSendIntegration.prototype, {
    initialize: function () {
        var _this = this;
        this.ready();
        this.analytics.on('invoke', function (msg) {
            if (msg && msg.obj && msg.obj.context && msg.obj.context.page) {
                msg.obj.context.page = undefined;
                _this.ready();
            }
        });
    },
    loaded: function () {
        return true;
    },
});
export default BeforeSendIntegration;
